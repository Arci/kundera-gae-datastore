<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<persistence xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             version="1.0" xmlns="http://java.sun.com/xml/ns/persistence"
             xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd">
    <persistence-unit name="pu">
        <provider>com.impetus.kundera.KunderaPersistence</provider>
        <class>it.polimi.client.datastore.entities.Address</class>
        <class>it.polimi.client.datastore.entities.AddressCollection</class>
        <class>it.polimi.client.datastore.entities.Department</class>
        <class>it.polimi.client.datastore.entities.DepartmentOTM</class>
        <class>it.polimi.client.datastore.entities.Employee</class>
        <class>it.polimi.client.datastore.entities.EmployeeEmbedded</class>
        <class>it.polimi.client.datastore.entities.EmployeeMTM</class>
        <class>it.polimi.client.datastore.entities.EmployeeMTO</class>
        <class>it.polimi.client.datastore.entities.EmployeeMTObis</class>
        <class>it.polimi.client.datastore.entities.EmployeeOTO</class>
        <class>it.polimi.client.datastore.entities.Phone</class>
        <class>it.polimi.client.datastore.entities.PhoneEnum</class>
        <class>it.polimi.client.datastore.entities.PhoneOTO</class>
        <class>it.polimi.client.datastore.entities.PhoneType</class>
        <class>it.polimi.client.datastore.entities.Project</class>
        <class>it.polimi.client.datastore.entities.ProjectMTM</class>
        <exclude-unlisted-classes>true</exclude-unlisted-classes>
        <properties>
            <property name="kundera.keyspace" value="gae-test"/>
            <!--
                TODO schema manager
                <property name="kundera.ddl.auto.prepare" value="create|create-drop|update|validate"></property>
                 - create: Drops(if exists) schema and then creates schema/ tables based on entity definitions.
                 - create-drop: Drops(if exists) schema, creates schema/ tables based on entity definitions and finally drops schema after operation ends.
                 - update: Updates schema/ tables based on entity definition.
                 - validate: Validates schema/ tables based on entity definition. Throws SchemaGenerationException if validation fails.
             -->
            <property name="kundera.client.lookup.class" value="it.polimi.client.datastore.DatastoreClientFactory"/>
        </properties>
    </persistence-unit>

    <persistence-unit name="remote-pu">
        <provider>com.impetus.kundera.KunderaPersistence</provider>
        <class>it.polimi.client.datastore.entities.Address</class>
        <class>it.polimi.client.datastore.entities.AddressCollection</class>
        <class>it.polimi.client.datastore.entities.Department</class>
        <class>it.polimi.client.datastore.entities.DepartmentOTM</class>
        <class>it.polimi.client.datastore.entities.Employee</class>
        <class>it.polimi.client.datastore.entities.EmployeeEmbedded</class>
        <class>it.polimi.client.datastore.entities.EmployeeMTM</class>
        <class>it.polimi.client.datastore.entities.EmployeeMTO</class>
        <class>it.polimi.client.datastore.entities.EmployeeMTObis</class>
        <class>it.polimi.client.datastore.entities.EmployeeOTO</class>
        <class>it.polimi.client.datastore.entities.Phone</class>
        <class>it.polimi.client.datastore.entities.PhoneEnum</class>
        <class>it.polimi.client.datastore.entities.PhoneOTO</class>
        <class>it.polimi.client.datastore.entities.PhoneType</class>
        <class>it.polimi.client.datastore.entities.Project</class>
        <class>it.polimi.client.datastore.entities.ProjectMTM</class>
        <exclude-unlisted-classes>true</exclude-unlisted-classes>
        <properties>
            <property name="kundera.keyspace" value="gae-test"/>
            <!-- optional, if present remote API are used, must be like your_app_id.appspot.com -->
            <property name="kundera.nodes" value="localhost"/>
            <!-- optional, port used to connect to server when using remote API, if no specified default is used (443) -->
            <property name="kundera.port" value="8888"/>
            <!-- optional, credentials (of and Admin on the remote server), mandatory if using remote API -->
            <property name="kundera.username" value="username"/>
            <property name="kundera.password" value="password does not matter"/>
            <!-- datastore specific properties -->
            <property name="kundera.client.property" value="datastore-properties.xml"/>
            <property name="kundera.client.lookup.class" value="it.polimi.client.datastore.DatastoreClientFactory"/>
        </properties>
    </persistence-unit>
</persistence>